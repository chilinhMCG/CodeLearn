@page "/admin/user-manager"
@inject ISnackbar Snackbar
@inject IUserRepository UserRepository


<MudPaper Class="p-4">
    <MudItem lg="12">
        <MudTable Bordered="true" Items="_users">
            <HeaderContent>
                <MudTh Class="text-center">Tên</MudTh>
                <MudTh Class="text-center">Email</MudTh>
                <MudTh Class="text-center">Quyền hạn</MudTh>
                <MudTh Class="text-center">Trạng thái</MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Name">@context.Name</MudTd>
                <MudTd>@context.Email</MudTd>
                <MudTd>
                    @_userManager.GetUsersInRoleAsync("Admin")
                </MudTd>
                <MudTd>@context.IsBlocked</MudTd>
            </RowTemplate>
        </MudTable> 
    </MudItem>
</MudPaper>

<br />







@code {

    private List<User> _users { get; set; }

    List<string> _listRoles { get; set; }

    [Inject]
    private UserManager<IdentityUser> _userManager { get; set; }

    [Inject]
    private RoleManager<IdentityRole> _roleManager { get; set; }


    protected override void OnInitialized()
    {
        _users = UserRepository.GetUser();
        
    }



}
