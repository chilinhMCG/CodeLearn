@page "/"
@inject ICourseTypeRepository CourseTypeRepository  
<MudPaper Class="p-4 pb-1 mt-4 ">
    <MudText Typo="Typo.h4" Color="Color.Dark">
        Tự học lập trình trực tuyến. Hãy bắt đầu với khoá học đầu tiên của bạn!
    </MudText>
    <MudGrid>
        <MudItem lg="4">
            <MudTextField @bind-Value="_searchString"
                          Label="Tìm kiếm khóa học"
                          Variant="Variant.Outlined"
                          Adornment="Adornment.End"
                          AdornmentIcon="@Icons.Filled.Search"
                          Margin="Margin.Dense" 
                          Class="my-4"/>
        </MudItem>
    </MudGrid>
</MudPaper>
<br />
@foreach (var item in courseTypes)
{
    <MudPaper Class="p-4">
        <MudText Typo="Typo.h5">@item.Name</MudText>
        <!--<MudGrid>
            @*@foreach (var item in collection)*@
            @foreach (var course in item.Courses)
            {
                <MudItem lg="3">
                    <MudLink Href="@("/khoa-hoc/" + course.Id.ToString())" Underline="Underline.None">
                        <MudCard Elevation="0">
                            <MudCardMedia Image="images/CSharp-Basic.jpg" Height="200" />
                            <MudCardContent>
                                <MudText Typo="Typo.h6">@course.Name</MudText>
                                <MudText Typo="Typo.caption">@course.Author</MudText>
                                <MudText Typo="Typo.body2">@course.Description</MudText>
                                <MudRating SelectedValue="4" Size="Size.Small" ReadOnly="true" />
                            </MudCardContent>
                            <MudCardActions>
                                <MudButton Variant="Variant.Text" Color="Color.Info">@course.Status</MudButton>
                            </MudCardActions>
                        </MudCard>
                    </MudLink>
                </MudItem>
            }
        </MudGrid> -->
    </MudPaper>
    <br>
}
<MudPaper Class="p-4">
    <MudText Typo="Typo.h5">Kiến thức cơ bản</MudText>

    <MudGrid>
        @*@foreach (var item in collection)*@
        @for (int i = 0; i < 4; i++)
        {
            <MudItem lg="3">
                <MudLink Href="@("/khoa-hoc/" + i.ToString())" Underline="Underline.None">
                    <MudCard Elevation="0">
                        <MudCardMedia Image="images/CSharp-Basic.jpg" Height="200" />
                        <MudCardContent>
                            <MudText Typo="Typo.h6">C# cơ bản</MudText>
                            <MudText Typo="Typo.caption">Chí Link</MudText>
                            <MudText Typo="Typo.body2">Khóa học cung cấp các kiến thức cơ bản về C#</MudText>
                            <MudRating SelectedValue="4" Size="Size.Small" ReadOnly="true" />
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Info">Miễn phí</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudLink>
            </MudItem>
        }
    </MudGrid>
</MudPaper>
<br />
<MudPaper Class="p-4">
    <MudText Typo="Typo.h5">Lập trình cơ sở</MudText>
    <MudGrid>
        @*@foreach (var item in collection)*@
        @for (int i = 0; i < 5; i++)
        {
            <MudItem lg="3">
                <MudLink Href="#" Underline="Underline.None">
                    <MudCard>
                        <MudCardMedia Image="images/CSharp-Basic.jpg" Height="200" />
                        <MudCardContent>
                            <MudText Typo="Typo.h5">OOP trong C#</MudText>
                            <MudText Typo="Typo.caption">Chí Link</MudText>
                            <MudText Typo="Typo.body2">Khóa học cung cấp các kiến thức cơ bản về C#</MudText>
                            <MudRating SelectedValue="4" Size="Size.Small" ReadOnly="true" />
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Info">Miễn phí</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudLink>
            </MudItem>
        }
    </MudGrid>
</MudPaper>
<br />
<MudPaper Class="p-4">
    <MudText Typo="Typo.h5">Lập trình nâng cao</MudText>
    <MudGrid>
        @*@foreach (var item in collection)*@
        @for (int i = 0; i < 7; i++)
        {
            <MudItem lg="3">
                <MudLink Href="#" Underline="Underline.None">
                    <MudCard>
                        <MudCardMedia Image="images/CSharp-Basic.jpg" Height="200" />
                        <MudCardContent>
                            <MudText Typo="Typo.h5">C# Nâng cao</MudText>
                            <MudText Typo="Typo.caption">Chí Link</MudText>
                            <MudText Typo="Typo.body2">Khóa học cung cấp các kiến thức cơ bản về C#</MudText>
                            <MudRating SelectedValue="4" Size="Size.Small" ReadOnly="true" />
                        </MudCardContent>
                        <MudCardActions>
                            <MudButton Variant="Variant.Text" Color="Color.Info">Miễn phí</MudButton>
                        </MudCardActions>
                    </MudCard>
                </MudLink>
            </MudItem>
        }
    </MudGrid>
</MudPaper>
@code {
    string _searchString = String.Empty;

    protected List<CourseType> courseTypes { get; set; }

    protected override void OnInitialized()
    {
        courseTypes = CourseTypeRepository.GetAllCourseType();
    }
}
